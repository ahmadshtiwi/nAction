<div class="d-flex justify-content-between w-75">
  <h3>{{userName}}</h3>
</div>
<app-table [tableData]="hourlyBody" 
     [tableHeaderTitle]="tableHeaderTitle" [removePagination]="true"
    [removeAddButton]="false" [viewUnsubmittedRequestButton]="false" [tableHeaderButton]="'Cost'"
    [tableHeaders]="tableHeaders" [displayColumns]="displayColumns" [viewLog]="false" [isViewOnly]="false"
    [actionItems]="actionItems" [viewUnsubmittedRequestButton]="false" 
    [unsubmittedComponentRouting]="'/pages/assignment-managment/unsubmitted-assignment-requests'"
    (addButtonEvent)="openModal(content , false , true , false)"
   >
</app-table> 



<ng-template #content let-offcanvas>
  <div class="offcanvas-header bg-header ">
    <h4 class="offcanvas-title text-white">Add Hourly Cost</h4>
    <button type="button" class="btn-close text-white" aria-label="Close" (click)="offcanvas.dismiss('Cross click')"></button>
  </div>
  <div class="offcanvas-body bg-primary">
    <div class="container-fluid">
      <form #hourlycost="ngForm" AutoFormError (ngSubmit)="submitRequest(hourlycost)">
        <div class="col-12">
          <label class="text-white required-label my-2" for="fromDate">{{ "From Date" }}</label>
          <input [disabled]="isView" name="fromDate" [(ngModel)]="hourlyItem.fromDate"  required class="border text-start text-black p-2 w-100" type="date" />
        </div>

        <div class="col-12">
          <label class="text-white required-label my-2" for="toDate">{{ "To Date" }}</label>
          <input [disabled]="isView" name="toDate" [(ngModel)]="hourlyItem.toDate" required class="border text-start text-black p-2 w-100" type="date" />
        </div>

        <div class="col-12">
          <label class="text-white required-label my-2" for="hourlyRate">{{ "Hourly Rate" }}</label>
          <input [disabled]="isView" name="hourlyRate" [(ngModel)]="hourlyItem.hourlyRate" required class="border text-start text-black p-2 w-100"   type="number" 
          step="0.01" 
          min="0" />
        </div>

        <div class="col-12">
          <label class="text-white required-label my-2" for="note">{{ "Note" }}</label>
          <textarea [disabled]="isView" name="note" [(ngModel)]="hourlyItem.notes" class="border text-start text-black p-2 w-100" rows="4"></textarea>
        </div>

        @if (!isView) {
          <div class="col-12 d-flex justify-content-center mt-3">
            <button class="system-button btn p-2 w-100 text-white btn-primary btn-primary-hover" type="submit">
              <span class="form-label">{{ "Submit Request" }}</span>
            </button>
          </div>
        }
      </form>
    </div>
  </div>
</ng-template>
 
